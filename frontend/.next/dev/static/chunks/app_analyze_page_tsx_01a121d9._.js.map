{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/jasnoorpannu/CSE/Projects/SceenerATS/frontend/app/analyze/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\n\nexport default function AnalyzePage() {\n  const [file, setFile] = useState<File | null>(null);\n  const [jobDesc, setJobDesc] = useState(\"\");\n  const [apiKey, setApiKey] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const handleUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files && e.target.files[0]) setFile(e.target.files[0]);\n  };\n\n  const handleAnalyze = async () => {\n    if (!file || !jobDesc.trim() || !apiKey.trim()) {\n      alert(\"Upload resume, paste JD, and enter your Gemini API key.\");\n      return;\n    }\n\n    setLoading(true);\n\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    formData.append(\"job_description\", jobDesc);\n    formData.append(\"api_key\", apiKey);\n\n    try {\n      const res = await fetch(\"http://localhost:8000/analyze\", {\n        method: \"POST\",\n        body: formData,\n      });\n\n      const data = await res.json();\n      localStorage.setItem(\"ats-result\", JSON.stringify(data));\n      window.location.href = \"/result\";\n    } catch (err) {\n      alert(\"Something broke. Try again.\");\n    }\n\n    setLoading(false);\n  };\n\n  return (\n    <div\n      className=\"\n        min-h-screen flex flex-col items-center px-6 py-12 \n        bg-gray-100 text-gray-900 \n        dark:bg-black dark:text-white \n        transition-colors\n      \"\n    >\n      <h1 className=\"text-4xl font-bold mb-10 text-center\">\n        Analyze Your Resume\n      </h1>\n\n      <div\n        className=\"\n          w-full max-w-2xl \n          bg-white dark:bg-zinc-900 \n          shadow-xl rounded-2xl p-8 \n          border border-zinc-200 dark:border-zinc-800\n          space-y-6\n        \"\n      >\n        {/* === Upload Resume === */}\n        <div>\n          <label\n            className=\"\n              block text-sm font-medium \n              text-gray-700 dark:text-gray-300 mb-2\n            \"\n          >\n            Upload Resume (PDF / DOCX)\n          </label>\n          <input\n            type=\"file\"\n            accept=\".pdf,.docx\"\n            onChange={handleUpload}\n            className=\"\n              w-full border border-gray-300 dark:border-zinc-700 \n              rounded-md p-2 \n              bg-white dark:bg-zinc-800 \n              text-gray-900 dark:text-gray-100\n            \"\n          />\n        </div>\n\n        {/* === Job Description === */}\n        <div>\n          <label\n            className=\"\n              block text-sm font-medium \n              text-gray-700 dark:text-gray-300 mb-2\n            \"\n          >\n            Paste Job Description\n          </label>\n          <textarea\n            value={jobDesc}\n            onChange={(e) => setJobDesc(e.target.value)}\n            className=\"\n              w-full border border-gray-300 dark:border-zinc-700 \n              rounded-md p-3 h-48 resize-none\n              bg-white dark:bg-zinc-800 \n              text-gray-900 dark:text-gray-100\n            \"\n            placeholder=\"Paste the job description here...\"\n          />\n        </div>\n\n        {/* === Gemini API Key === */}\n        <div>\n          <label\n            className=\"\n              block text-sm font-medium \n              text-gray-700 dark:text-gray-300 mb-2\n            \"\n          >\n            Your Gemini API Key\n          </label>\n          <input\n            type=\"password\"\n            value={apiKey}\n            onChange={(e) => setApiKey(e.target.value)}\n            placeholder=\"AIza...\"\n            className=\"\n              w-full border border-gray-300 dark:border-zinc-700 \n              rounded-md p-2\n              bg-white dark:bg-zinc-800 \n              text-gray-900 dark:text-gray-100\n            \"\n          />\n        </div>\n\n        {/* === Button === */}\n        <button\n          onClick={handleAnalyze}\n          disabled={loading}\n          className=\"\n            w-full py-3 rounded-lg text-lg font-semibold\n            bg-blue-600 hover:bg-blue-700 text-white\n            dark:bg-blue-500 dark:hover:bg-blue-600\n            disabled:opacity-50\n            transition\n          \"\n        >\n          {loading ? \"Analyzing...\" : \"Analyze Resume\"}\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAIe,SAAS;;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAC;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,MAAM,eAAe,CAAC;QACpB,IAAI,EAAE,MAAM,CAAC,KAAK,IAAI,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE,EAAE,QAAQ,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE;IACpE;IAEA,MAAM,gBAAgB;QACpB,IAAI,CAAC,QAAQ,CAAC,QAAQ,IAAI,MAAM,CAAC,OAAO,IAAI,IAAI;YAC9C,MAAM;YACN;QACF;QAEA,WAAW;QAEX,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,QAAQ;QACxB,SAAS,MAAM,CAAC,mBAAmB;QACnC,SAAS,MAAM,CAAC,WAAW;QAE3B,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,iCAAiC;gBACvD,QAAQ;gBACR,MAAM;YACR;YAEA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,aAAa,OAAO,CAAC,cAAc,KAAK,SAAS,CAAC;YAClD,OAAO,QAAQ,CAAC,IAAI,GAAG;QACzB,EAAE,OAAO,KAAK;YACZ,MAAM;QACR;QAEA,WAAW;IACb;IAEA,qBACE,6LAAC;QACC,WAAU;;0BAOV,6LAAC;gBAAG,WAAU;0BAAuC;;;;;;0BAIrD,6LAAC;gBACC,WAAU;;kCASV,6LAAC;;0CACC,6LAAC;gCACC,WAAU;0CAIX;;;;;;0CAGD,6LAAC;gCACC,MAAK;gCACL,QAAO;gCACP,UAAU;gCACV,WAAU;;;;;;;;;;;;kCAUd,6LAAC;;0CACC,6LAAC;gCACC,WAAU;0CAIX;;;;;;0CAGD,6LAAC;gCACC,OAAO;gCACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;gCAC1C,WAAU;gCAMV,aAAY;;;;;;;;;;;;kCAKhB,6LAAC;;0CACC,6LAAC;gCACC,WAAU;0CAIX;;;;;;0CAGD,6LAAC;gCACC,MAAK;gCACL,OAAO;gCACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;gCACzC,aAAY;gCACZ,WAAU;;;;;;;;;;;;kCAUd,6LAAC;wBACC,SAAS;wBACT,UAAU;wBACV,WAAU;kCAQT,UAAU,iBAAiB;;;;;;;;;;;;;;;;;;AAKtC;GApJwB;KAAA"}}]
}